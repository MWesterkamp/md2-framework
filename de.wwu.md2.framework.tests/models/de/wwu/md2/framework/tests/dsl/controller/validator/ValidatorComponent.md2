package controllers

validator NumberRangeValidator validateComplaintID 
{
	max 66.6
	min 1.1
	message "ID must between 1 and 666!"
}

validator StringRangeValidator validateDesctription
{
	maxLength 150
	minLength 1
	message "the string is too short or too long!"
}

validator RegExValidator validateUserEmail
{
	regEx "[A-Za-Z]+@[a-z]{2,6}"
	message "that's not a valid email address"
}

validator DateRangeValidator validateDate
{
	min 1900-01-01
	message "the string is too short or too long!"
}

contentProvider Complaint complaintProvider {
	providerType default
	readonly false
}

contentProvider User userProvider {
	providerType default
	readonly false
}

validator RemoteValidator myRemoteValidator {
	attributes :complaintProvider.id
	connection myConnection
	message "Connection failed!"
}

remoteConnection myConnection {
	uri "http://localhost:8080/bla/"
	password "admin"
	user "admin"
}


//assign Validators to input fields 

action CustomAction assignValidators {
	bind validator NumberRangeValidator (message "ID must between 1 and 666!") on complaintView.complaintID
	bind validator NotNullValidator (message "ID must not be null!") on complaintView.complaintID
	bind validator StringRangeValidator (maxLength 150, minLength 1, message "the string is too short or too long!") on complaintView.descriptionTxt
	bind validator RegExValidator (regEx "[A-Za-Z]+@[a-z]{2,6}", message "that's not a valid email address") on complaintView.userEmail
	bind validator DateRangeValidator (min 1900-01-01, 	message "the string is too short or too long!") on complaintView.submitDate
}


